# Note: This Dockerfile creates a minimal container for the Rust application build inside a CI/CD pipeline.

FROM gcr.io/distroless/cc-debian12

# Copy the Rust server binary from the build context
COPY target/release/server /app

# GITHUB_TOKEN is required for the application to access GitHub API
ENV GITHUB_TOKEN=""

# Expose port 3000
EXPOSE 3000

# Set the entrypoint
CMD ["./app"]